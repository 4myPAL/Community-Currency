var communitycurrencyContract = web3.eth.contract([ 
{ "constant": true, "inputs": [], "name": "getBudget", "outputs": [ { "name": "_getGoalDemurrage", "type": "uint256", "value": "25000", "displayName": "<span class=\"punctuation\">_</span>get Goal Demurrage" }, { "name": "_getGoalCrowdFunding", "type": "uint256", "value": "25000", "displayName": "<span class=\"punctuation\">_</span>get Goal Crowd Funding" }, { "name": "_getGoalCommunityHours", "type": "uint256", "value": "25000", "displayName": "<span class=\"punctuation\">_</span>get Goal Community Hours" }, { "name": "_getGoalExpenses", "type": "uint256", "value": "25000", "displayName": "<span class=\"punctuation\">_</span>get Goal Expenses" }, { "name": "_getcommitCrowdFunding", "type": "uint256", "value": "0", "displayName": "<span class=\"punctuation\">_</span>getcommit Crowd Funding" }, { "name": "_getCommitCommunityHours", "type": "int256", "value": "0", "displayName": "<span class=\"punctuation\">_</span>get Commit Community Hours" }, { "name": "_getCommitExpenses", "type": "uint256", "value": "0", "displayName": "<span class=\"punctuation\">_</span>get Commit Expenses" }, { "name": "_getRealDemurrage", "type": "int256", "value": "0", "displayName": "<span class=\"punctuation\">_</span>get Real Demurrage" }, { "name": "_getRealCrowdFunding", "type": "uint256", "value": "0", "displayName": "<span class=\"punctuation\">_</span>get Real Crowd Funding" }, { "name": "_getRealCommunityHours", "type": "int256", "value": "0", "displayName": "<span class=\"punctuation\">_</span>get Real Community Hours" }, { "name": "_getRealExpenses", "type": "uint256", "value": "0", "displayName": "<span class=\"punctuation\">_</span>get Real Expenses" }, { "name": "_getCommuneBalance", "type": "int256", "value": "0", "displayName": "<span class=\"punctuation\">_</span>get Commune Balance" }, { "name": "_getTreasuryBalance", "type": "int256", "value": "0", "displayName": "<span class=\"punctuation\">_</span>get Treasury Balance" } ], "type": "function", "displayName": "get Budget" }, { "constant": false, "inputs": [ { "name": "_addr", "type": "address", "typeShort": "address", "bits": "", "displayName": "&thinsp;<span class=\"punctuation\">_</span>&thinsp;addr", "template": "elements_input_address" } ], "name": "findCommonersIndex", "outputs": [ { "name": "_index", "type": "uint256" } ], "type": "function", "displayName": "find Commoners Index" }, { "constant": false, "inputs": [ { "name": "_authorized", "type": "address", "typeShort": "address", "bits": "", "displayName": "&thinsp;<span class=\"punctuation\">_</span>&thinsp;authorized", "template": "elements_input_address" } ], "name": "accessMyWallet", "outputs": [], "type": "function", "displayName": "access My Wallet" }, { "constant": true, "inputs": [ { "name": "_monitored", "type": "address", "typeShort": "address", "bits": "", "displayName": "&thinsp;<span class=\"punctuation\">_</span>&thinsp;monitored", "template": "elements_input_address" } ], "name": "monitorWallet", "outputs": [ { "name": "_getCCUs", "type": "int256", "value": "0", "displayName": "<span class=\"punctuation\">_</span>get C C Us" }, { "name": "_getCredit", "type": "uint256", "value": "0", "displayName": "<span class=\"punctuation\">_</span>get Credit" }, { "name": "_getDeadline", "type": "uint256", "value": "0", "displayName": "<span class=\"punctuation\">_</span>get Deadline" }, { "name": "_getMoneyLender", "type": "address", "value": "0x0000000000000000000000000000000000000000", "displayName": "<span class=\"punctuation\">_</span>get Money Lender" }, { "name": "_getUnitsOfTrust", "type": "uint256", "value": "0", "displayName": "<span class=\"punctuation\">_</span>get Units Of Trust" }, { "name": "_getIsMember", "type": "bool", "value": false, "displayName": "<span class=\"punctuation\">_</span>get Is Member" }, { "name": "_getReputation", "type": "uint256", "value": "0", "displayName": "<span class=\"punctuation\">_</span>get Reputation" }, { "name": "_getLast", "type": "uint256", "value": "0", "displayName": "<span class=\"punctuation\">_</span>get Last" }, { "name": "_getGdpActivity", "type": "uint256", "value": "0", "displayName": "<span class=\"punctuation\">_</span>get Gdp Activity" }, { "name": "_getCommitH", "type": "int256", "value": "0", "displayName": "<span class=\"punctuation\">_</span>get Commit H" }, { "name": "_getCommitF", "type": "uint256", "value": "0", "displayName": "<span class=\"punctuation\">_</span>get Commit F" }, { "name": "_getAlias", "type": "bytes32", "value": "0x0000000000000000000000000000000000000000000000000000000000000000", "displayName": "<span class=\"punctuation\">_</span>get Alias" }, { "name": "_getEmail", "type": "bytes32", "value": "0x0000000000000000000000000000000000000000000000000000000000000000", "displayName": "<span class=\"punctuation\">_</span>get Email" } ], "type": "function", "displayName": "monitor Wallet" }, { "constant": false, "inputs": [ { "name": "_beneficiary", "type": "address", "typeShort": "address", "bits": "", "displayName": "&thinsp;<span class=\"punctuation\">_</span>&thinsp;beneficiary", "template": "elements_input_address" }, { "name": "_createReputation", "type": "uint256", "typeShort": "uint", "bits": "256", "displayName": "&thinsp;<span class=\"punctuation\">_</span>&thinsp;create Reputation", "template": "elements_input_uint" } ], "name": "mintAssignReputation", "outputs": [], "type": "function", "displayName": "mint Assign Reputation" }, { "constant": false, "inputs": [ { "name": "_createCCUs", "type": "int256", "typeShort": "int", "bits": "256", "displayName": "&thinsp;<span class=\"punctuation\">_</span>&thinsp;create C C Us", "template": "elements_input_int" } ], "name": "mintCCUs", "outputs": [], "type": "function", "displayName": "mint C C Us" }, { "constant": false, "inputs": [ { "name": "_contractor", "type": "address", "typeShort": "address", "bits": "", "displayName": "&thinsp;<span class=\"punctuation\">_</span>&thinsp;contractor", "template": "elements_input_address" }, { "name": "_payE", "type": "uint256", "typeShort": "uint", "bits": "256", "displayName": "&thinsp;<span class=\"punctuation\">_</span>&thinsp;pay E", "template": "elements_input_uint" } ], "name": "payExpenses", "outputs": [], "type": "function", "displayName": "pay Expenses" }, { "constant": false, "inputs": [ { "name": "_commitE", "type": "uint256", "typeShort": "uint", "bits": "256", "displayName": "&thinsp;<span class=\"punctuation\">_</span>&thinsp;commit E", "template": "elements_input_uint" } ], "name": "commitExpenses", "outputs": [], "type": "function", "displayName": "commit Expenses" }, { "constant": false, "inputs": [ { "name": "_newExchange", "type": "uint256", "typeShort": "uint", "bits": "256", "displayName": "&thinsp;<span class=\"punctuation\">_</span>&thinsp;new Exchange", "template": "elements_input_uint" } ], "name": "setExchange", "outputs": [], "type": "function", "displayName": "set Exchange" }, { "constant": false, "inputs": [ { "name": "_newGoalDemurrage", "type": "uint256", "typeShort": "uint", "bits": "256", "displayName": "&thinsp;<span class=\"punctuation\">_</span>&thinsp;new Goal Demurrage", "template": "elements_input_uint" }, { "name": "_newGoalCrowdFunding", "type": "uint256", "typeShort": "uint", "bits": "256", "displayName": "&thinsp;<span class=\"punctuation\">_</span>&thinsp;new Goal Crowd Funding", "template": "elements_input_uint" }, { "name": "_newGoalCommunityHours", "type": "uint256", "typeShort": "uint", "bits": "256", "displayName": "&thinsp;<span class=\"punctuation\">_</span>&thinsp;new Goal Community Hours", "template": "elements_input_uint" }, { "name": "_newGoalExpenses", "type": "uint256", "typeShort": "uint", "bits": "256", "displayName": "&thinsp;<span class=\"punctuation\">_</span>&thinsp;new Goal Expenses", "template": "elements_input_uint" } ], "name": "setNewBudget", "outputs": [], "type": "function", "displayName": "set New Budget" }, { "constant": false, "inputs": [ { "name": "_servant", "type": "address", "typeShort": "address", "bits": "", "displayName": "&thinsp;<span class=\"punctuation\">_</span>&thinsp;servant", "template": "elements_input_address" }, { "name": "_payH", "type": "uint256", "typeShort": "uint", "bits": "256", "displayName": "&thinsp;<span class=\"punctuation\">_</span>&thinsp;pay H", "template": "elements_input_uint" } ], "name": "payHours", "outputs": [], "type": "function", "displayName": "pay Hours" }, { "constant": false, "inputs": [], "name": "creditUpdate", "outputs": [], "type": "function", "displayName": "credit Update" }, { "constant": false, "inputs": [ { "name": "_commitF", "type": "uint256", "typeShort": "uint", "bits": "256", "displayName": "&thinsp;<span class=\"punctuation\">_</span>&thinsp;commit F", "template": "elements_input_uint" } ], "name": "commitFunding", "outputs": [], "type": "function", "displayName": "commit Funding" }, { "constant": false, "inputs": [ { "name": "_claimH", "type": "int256", "typeShort": "int", "bits": "256", "displayName": "&thinsp;<span class=\"punctuation\">_</span>&thinsp;claim H", "template": "elements_input_int" } ], "name": "claimHours", "outputs": [], "type": "function", "displayName": "claim Hours" }, { "constant": true, "inputs": [ { "name": "_index", "type": "uint256", "typeShort": "uint", "bits": "256", "displayName": "&thinsp;<span class=\"punctuation\">_</span>&thinsp;index", "template": "elements_input_uint" } ], "name": "listCommoner", "outputs": [ { "name": "_getAddress", "type": "address", "value": "0x", "displayName": "<span class=\"punctuation\">_</span>get Address" }, { "name": "_getAlias", "type": "bytes32", "value": "0x", "displayName": "<span class=\"punctuation\">_</span>get Alias" }, { "name": "_getEmail", "type": "bytes32", "value": "0x", "displayName": "<span class=\"punctuation\">_</span>get Email" } ], "type": "function", "displayName": "list Commoner" }, { "constant": false, "inputs": [ { "name": "_newCommune", "type": "address", "typeShort": "address", "bits": "", "displayName": "&thinsp;<span class=\"punctuation\">_</span>&thinsp;new Commune", "template": "elements_input_address" } ], "name": "newCommune", "outputs": [], "type": "function", "displayName": "new Commune" }, { "constant": false, "inputs": [ { "name": "_newTreasury", "type": "address", "typeShort": "address", "bits": "", "displayName": "&thinsp;<span class=\"punctuation\">_</span>&thinsp;new Treasury", "template": "elements_input_address" } ], "name": "newTreasury", "outputs": [], "type": "function", "displayName": "new Treasury" }, { "constant": true, "inputs": [], "name": "getParameters", "outputs": [ { "name": "_getTreasury", "type": "address", "value": "0xf8c54fe88c0be659f4ec71255b886d01e2a14f60", "displayName": "<span class=\"punctuation\">_</span>get Treasury" }, { "name": "_getCommunity", "type": "address", "value": "0x931cd8a11adea607d690058458e49b55949927c7", "displayName": "<span class=\"punctuation\">_</span>get Community" }, { "name": "_getDemurrage", "type": "int256", "value": "3", "displayName": "<span class=\"punctuation\">_</span>get Demurrage" }, { "name": "_getRewardRate", "type": "uint256", "value": "20", "displayName": "<span class=\"punctuation\">_</span>get Reward Rate" }, { "name": "_getIniMemberCCUs", "type": "int256", "value": "2500", "displayName": "<span class=\"punctuation\">_</span>get Ini Member C C Us" }, { "name": "_getIniMemberReputation", "type": "uint256", "value": "12500", "displayName": "<span class=\"punctuation\">_</span>get Ini Member Reputation" }, { "name": "_getExchange", "type": "uint256", "value": "10", "displayName": "<span class=\"punctuation\">_</span>get Exchange" }, { "name": "getName", "type": "string", "value": "HOUR", "displayName": "get Name" }, { "name": "getSymbol", "type": "string", "value": "HR", "displayName": "get Symbol" }, { "name": "getCommunityName", "type": "string", "value": "DESPERADO", "displayName": "get Community Name" }, { "name": "getBaseUnits", "type": "uint256", "value": "100", "displayName": "get Base Units" } ], "type": "function", "displayName": "get Parameters" }, { "constant": true, "inputs": [], "name": "getMoneyTotals", "outputs": [ { "name": "_getTotalMinted", "type": "int256", "value": "0", "displayName": "<span class=\"punctuation\">_</span>get Total Minted" }, { "name": "_getTotalCredit", "type": "uint256", "value": "0", "displayName": "<span class=\"punctuation\">_</span>get Total Credit" }, { "name": "_getTotalTrustCost", "type": "uint256", "value": "0", "displayName": "<span class=\"punctuation\">_</span>get Total Trust Cost" }, { "name": "_getTotalTrustAvailable", "type": "uint256", "value": "0", "displayName": "<span class=\"punctuation\">_</span>get Total Trust Available" } ], "type": "function", "displayName": "get Money Totals" }, { "constant": false, "inputs": [ { "name": "_payee", "type": "address", "typeShort": "address", "bits": "", "displayName": "&thinsp;<span class=\"punctuation\">_</span>&thinsp;payee", "template": "elements_input_address" }, { "name": "_payment", "type": "uint256", "typeShort": "uint", "bits": "256", "displayName": "&thinsp;<span class=\"punctuation\">_</span>&thinsp;payment", "template": "elements_input_uint" } ], "name": "transfer", "outputs": [], "type": "function", "displayName": "transfer" }, { "constant": false, "inputs": [ { "name": "_newDemurrage", "type": "int256", "typeShort": "int", "bits": "256", "displayName": "&thinsp;<span class=\"punctuation\">_</span>&thinsp;new Demurrage", "template": "elements_input_int" }, { "name": "_newRewardRate", "type": "uint256", "typeShort": "uint", "bits": "256", "displayName": "&thinsp;<span class=\"punctuation\">_</span>&thinsp;new Reward Rate", "template": "elements_input_uint" }, { "name": "_newIniCCUs", "type": "int256", "typeShort": "int", "bits": "256", "displayName": "&thinsp;<span class=\"punctuation\">_</span>&thinsp;new Ini C C Us", "template": "elements_input_int" }, { "name": "_newIniR", "type": "uint256", "typeShort": "uint", "bits": "256", "displayName": "&thinsp;<span class=\"punctuation\">_</span>&thinsp;new Ini R", "template": "elements_input_uint" } ], "name": "newParameters", "outputs": [], "type": "function", "displayName": "new Parameters" }, { "constant": false, "inputs": [ { "name": "_oldMember", "type": "address", "typeShort": "address", "bits": "", "displayName": "&thinsp;<span class=\"punctuation\">_</span>&thinsp;old Member", "template": "elements_input_address" } ], "name": "kickOutMember", "outputs": [], "type": "function", "displayName": "kick Out Member" }, { "constant": false, "inputs": [ { "name": "_borrower", "type": "address", "typeShort": "address", "bits": "", "displayName": "&thinsp;<span class=\"punctuation\">_</span>&thinsp;borrower", "template": "elements_input_address" }, { "name": "_credit", "type": "uint256", "typeShort": "uint", "bits": "256", "displayName": "&thinsp;<span class=\"punctuation\">_</span>&thinsp;credit", "template": "elements_input_uint" }, { "name": "_daysAfter", "type": "uint256", "typeShort": "uint", "bits": "256", "displayName": "&thinsp;<span class=\"punctuation\">_</span>&thinsp;days After", "template": "elements_input_uint" } ], "name": "credit", "outputs": [], "type": "function", "displayName": "credit" }, { "constant": false, "inputs": [ { "name": "_commitH", "type": "int256", "typeShort": "int", "bits": "256", "displayName": "&thinsp;<span class=\"punctuation\">_</span>&thinsp;commit H", "template": "elements_input_int" } ], "name": "commitHours", "outputs": [], "type": "function", "displayName": "commit Hours" }, { "constant": false, "inputs": [ { "name": "_payF", "type": "uint256", "typeShort": "uint", "bits": "256", "displayName": "&thinsp;<span class=\"punctuation\">_</span>&thinsp;pay F", "template": "elements_input_uint" } ], "name": "payFunding", "outputs": [], "type": "function", "displayName": "pay Funding" }, { "constant": false, "inputs": [], "name": "getNumberCommoners", "outputs": [ { "name": "_numberCommoners", "type": "uint256" } ], "type": "function", "displayName": "get Number Commoners" }, { "constant": false, "inputs": [ { "name": "_newMember", "type": "address", "typeShort": "address", "bits": "", "displayName": "&thinsp;<span class=\"punctuation\">_</span>&thinsp;new Member", "template": "elements_input_address" }, { "name": "_newAlias", "type": "bytes32", "typeShort": "bytes", "bits": "32", "displayName": "&thinsp;<span class=\"punctuation\">_</span>&thinsp;new Alias", "template": "elements_input_bytes" }, { "name": "_newEmail", "type": "bytes32", "typeShort": "bytes", "bits": "32", "displayName": "&thinsp;<span class=\"punctuation\">_</span>&thinsp;new Email", "template": "elements_input_bytes" } ], "name": "acceptMember", "outputs": [], "type": "function", "displayName": "accept Member" }, { "inputs": [], "type": "constructor" }, { "anonymous": false, "inputs": [ { "indexed": false, "name": "_amount", "type": "uint256" }, { "indexed": true, "name": "_from", "type": "address" }, { "indexed": true, "name": "_to", "type": "address" }, { "indexed": false, "name": "_timeStampT", "type": "uint256" } ], "name": "Transfer", "type": "event" }, { "anonymous": false, "inputs": [ { "indexed": false, "name": "_cDealine", "type": "uint256" }, { "indexed": false, "name": "_endorsedUoT", "type": "uint256" }, { "indexed": false, "name": "_moneyLender", "type": "bytes32" } ], "name": "Credit", "type": "event" }, { "anonymous": false, "inputs": [ { "indexed": false, "name": "_oldUoT", "type": "uint256" }, { "indexed": false, "name": "_oldMoneyLender", "type": "bytes32" }, { "indexed": false, "name": "_success", "type": "bool" }, { "indexed": false, "name": "_timeStampCX", "type": "uint256" } ], "name": "CreditExp", "type": "event" }, { "anonymous": false, "inputs": [ { "indexed": false, "name": "_servantC", "type": "bytes32" }, { "indexed": true, "name": "_hFrom", "type": "address" }, { "indexed": false, "name": "_claimedH", "type": "int256" }, { "indexed": false, "name": "_timeStampCH", "type": "uint256" } ], "name": "ClaimH", "type": "event" }, { "anonymous": false, "inputs": [ { "indexed": false, "name": "_servantP", "type": "bytes32" }, { "indexed": false, "name": "_paidH", "type": "uint256" }, { "indexed": false, "name": "_timeStampPH", "type": "uint256" } ], "name": "PaidH", "type": "event" } 
] )
 
var communityCurrency = communitycurrencyContract.at("0x7e24971665e9a3562c61fc5e7ef34ddc42b318bd");

web3.eth.defaultAccount = web3.eth.coinbase;

var coinbase = web3.eth.coinbase;

var myWallet = communityCurrency.monitorWallet(coinbase);
var myCommunityCUnits = myWallet[0];
var myCredit = myWallet[1];
var myDeadline = myWallet[2];
var myMoneyLender = myWallet[3];
var myUnitsOfTrust = myWallet[4];
var myIsMember = myWallet[5];
var myReputation = myWallet[6];
var myLast = myWallet[7];
var myGdpActivity = myWallet[8];
var myCommittedH = myWallet[9];
var myCommittedF = myWallet[10];
var myAlias = myWallet[11];
var myEmail = myWallet[12];

var contractParameters = communityCurrency.getParameters();
var treasury = contractParameters[0];
var commune = contractParameters[1];
var demurrage = contractParameters[2];
var rewardRate = contractParameters[3];
var iniMemberCCUs = contractParameters[4];
var iniMemberReputation = contractParameters[5];
var exchangeRate = contractParameters[6];
var name = contractParameters[7];
var symbol = contractParameters[8];
var communityName = contractParameters[9];
var baseUnits = contractParameters[10];

if (myIsMember == true) {
	var commoner ="Commoner of " +  communityName + " Community";
} else { 
    commoner ="Not Commoner";
	myAlias = "visitor";
};

var dateMyLast = new Date(myLast * 1000);
var dateMyDealine = new Date(myDeadline * 1000);


